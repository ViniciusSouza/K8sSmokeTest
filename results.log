Sun Sep 16 16:07:06 DST 2018
[1;34mStarting Persistent Storage tests
[0m
[1;35mQuerying Available Storage Classes
[0m
Name:            default
IsDefaultClass:  Yes
Annotations:     kubectl.kubernetes.io/last-applied-configuration={"apiVersion":"storage.k8s.io/v1beta1","kind":"StorageClass","metadata":{"annotations":{"storageclass.beta.kubernetes.io/is-default-class":"true"},"labels":{"kubernetes.io/cluster-service":"true"},"name":"default","namespace":""},"parameters":{"kind":"Managed","storageaccounttype":"Standard_LRS"},"provisioner":"kubernetes.io/azure-disk"}
,storageclass.beta.kubernetes.io/is-default-class=true
Provisioner:           kubernetes.io/azure-disk
Parameters:            kind=Managed,storageaccounttype=Standard_LRS
AllowVolumeExpansion:  <unset>
MountOptions:          <none>
ReclaimPolicy:         Delete
VolumeBindingMode:     Immediate
Events:                <none>


Name:            managed-premium
IsDefaultClass:  No
Annotations:     kubectl.kubernetes.io/last-applied-configuration={"apiVersion":"storage.k8s.io/v1beta1","kind":"StorageClass","metadata":{"annotations":{},"labels":{"kubernetes.io/cluster-service":"true"},"name":"managed-premium","namespace":""},"parameters":{"kind":"Managed","storageaccounttype":"Premium_LRS"},"provisioner":"kubernetes.io/azure-disk"}

Provisioner:           kubernetes.io/azure-disk
Parameters:            kind=Managed,storageaccounttype=Premium_LRS
AllowVolumeExpansion:  <unset>
MountOptions:          <none>
ReclaimPolicy:         Delete
VolumeBindingMode:     Immediate
Events:                <none>
Persistent Volume

NAME                                       CAPACITY   ACCESS MODES   RECLAIM POLICY   STATUS    CLAIM                STORAGECLASS      REASON    AGE
pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9   5Gi        RWO            Delete           Bound     testspace/test-pvc   managed-premium             15s


Name:            pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9
Labels:          <none>
Annotations:     pv.kubernetes.io/bound-by-controller=yes
                 pv.kubernetes.io/provisioned-by=kubernetes.io/azure-disk
                 volumehelper.VolumeDynamicallyCreatedByKey=azure-disk-dynamic-provisioner
Finalizers:      [kubernetes.io/pv-protection]
StorageClass:    managed-premium
Status:          Bound
Claim:           testspace/test-pvc
Reclaim Policy:  Delete
Access Modes:    RWO
Capacity:        5Gi
Node Affinity:   <none>
Message:         
Source:
    Type:         AzureDisk (an Azure Data Disk mount on the host and bind mount to the pod)
    DiskName:     kubernetes-dynamic-pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9
    DiskURI:      /subscriptions/8baa8cf4-3f8b-456d-9a5b-8e928c7ce412/resourceGroups/MC_K8sCluster_K8sCluster_eastus/providers/Microsoft.Compute/disks/kubernetes-dynamic-pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9
    Kind:         Managed
    FSType:       
    CachingMode:  None
    ReadOnly:     false
Events:           <none>
Persistent Volume Claim:

NAME       STATUS    VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS      AGE
test-pvc   Bound     pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9   5Gi        RWO            managed-premium   23s


Name:          test-pvc
Namespace:     testspace
StorageClass:  managed-premium
Status:        Bound
Volume:        pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9
Labels:        <none>
Annotations:   pv.kubernetes.io/bind-completed=yes
               pv.kubernetes.io/bound-by-controller=yes
               volume.beta.kubernetes.io/storage-provisioner=kubernetes.io/azure-disk
Finalizers:    [kubernetes.io/pvc-protection]
Capacity:      5Gi
Access Modes:  RWO
Events:
  Type    Reason                 Age   From                         Message
  ----    ------                 ----  ----                         -------
  Normal  ProvisioningSucceeded  18s   persistentvolume-controller  Successfully provisioned volume pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9 using kubernetes.io/azure-disk
[1;35m
Pod Description
Name:         pvc-pod
Namespace:    testspace
Node:         aks-agentpool-10515745-3/10.240.0.8
Start Time:   Sun, 16 Sep 2018 16:07:34 -0600
Labels:       pvc=pod
Annotations:  <none>
Status:       Running
IP:           10.244.3.85
Containers:
  pvc-cont:
    Container ID:  docker://042147fe54d9a76a56ce43e520dd150b1f9e7043571c406d3c3dc69f4bdd4473
    Image:         alpine
    Image ID:      docker-pullable://alpine@sha256:621c2f39f8133acb8e64023a94dbdf0d5ca81896102b9e57c0dc184cadaf5528
    Port:          <none>
    Host Port:     <none>
    Args:
      sleep
      1000
    State:          Running
      Started:      Sun, 16 Sep 2018 16:08:08 -0600
    Ready:          True
    Restart Count:  0
    Environment:    <none>
    Mounts:
      /mnt/azure from volume (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from default-token-h4tpc (ro)
Conditions:
  Type           Status
  Initialized    True 
  Ready          True 
  PodScheduled   True 
Volumes:
  volume:
    Type:       PersistentVolumeClaim (a reference to a PersistentVolumeClaim in the same namespace)
    ClaimName:  test-pvc
    ReadOnly:   false
  default-token-h4tpc:
    Type:        Secret (a volume populated by a Secret)
    SecretName:  default-token-h4tpc
    Optional:    false
QoS Class:       BestEffort
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute for 300s
                 node.kubernetes.io/unreachable:NoExecute for 300s
Events:
  Type    Reason                  Age   From                               Message
  ----    ------                  ----  ----                               -------
  Normal  Scheduled               41s   default-scheduler                  Successfully assigned pvc-pod to aks-agentpool-10515745-3
  Normal  SuccessfulMountVolume   40s   kubelet, aks-agentpool-10515745-3  MountVolume.SetUp succeeded for volume "default-token-h4tpc"
  Normal  SuccessfulAttachVolume  28s   attachdetach-controller            AttachVolume.Attach succeeded for volume "pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9"
  Normal  SuccessfulMountVolume   12s   kubelet, aks-agentpool-10515745-3  MountVolume.SetUp succeeded for volume "pvc-db23f825-b9fc-11e8-af53-e65b2aad3cb9"
  Normal  Pulling                 10s   kubelet, aks-agentpool-10515745-3  pulling image "alpine"
  Normal  Pulled                  9s    kubelet, aks-agentpool-10515745-3  Successfully pulled image "alpine"
  Normal  Created                 7s    kubelet, aks-agentpool-10515745-3  Created container
  Normal  Started                 7s    kubelet, aks-agentpool-10515745-3  Started container
